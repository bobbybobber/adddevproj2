{% extends "base.html" %}
{% block title %}MonsterBob - Landing{% endblock %}

{% block content %}
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/Flip.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/Observer.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollToPlugin.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/Draggable.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/MotionPathPlugin.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/EaselPlugin.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/PixiPlugin.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/TextPlugin.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/EasePack.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/CustomEase.min.js"></script>
<style>
    /* Chatbox Styles */
.chatbox {
    position: fixed;
    right: 20px;
    bottom: 80px; /* Adjust if needed to align with the chat button */
    width: 300px;
    max-height: 500px; /* Adjust based on your requirement */
    background-color: white;
    border: 1px solid #ddd;
    border-radius: 15px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
    display: flex;
    flex-direction: column;
    z-index: 1051; /* Above the button */
    overflow: hidden; /* Ensures that the overflow content does not break the rounded corners */
}

.chatbox-header {
    padding: 10px;
    background-color: #FF5A5F;
    color: white;
    border-top-left-radius: 15px;
    border-top-right-radius: 15px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.chatbox-header button {
    background: none;
    border: none;
    color: white;
    cursor: pointer;
}

.chatbox-messages {
    flex-grow: 1;
    padding: 10px;
    overflow-y: auto; /* Allows scrolling within the message area */
    margin-bottom: 50px; /* Space for the input box */
}

#chatbox-input {
    border: none;
    padding: 10px;
    border-top: 1px solid #ddd;
    position: absolute; /* Positions the input box at the bottom */
    bottom: 0; /* Aligns to the bottom */
    width: 100%; /* Ensures the input box spans the width of the chatbox */
    box-sizing: border-box; /* Includes padding in the width calculation */
}

#loader {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 1000;
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%; /* Initially 100%, adjusted by media queries */
    height: 100vh; /* Initially 100vh, adjusted by media queries */
    background-color: white; /* White background, typical for Airbnb */
    border-radius: 15px; /* Rounded corners for a modern look */
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Subtle shadow for depth */
}

#loader svg {
    width: 100%; /* SVG fills the loader */
    height: auto; /* Maintain aspect ratio */
}

#loader svg text {
    fill: #FF5A5F; /* Airbnb's signature red color */
    stroke: #FF5A5F; /* Same color for the stroke */
    stroke-width: 0.5;
    stroke-dasharray: 100;
    stroke-dashoffset: 100;
    animation: text-draw 5s ease-out forwards, text-fill 4s ease-out 4s forwards;
    text-anchor: middle; /* Center text horizontally */
    dominant-baseline: middle; /* Center text vertically */
    font-family: 'Circular', -apple-system, BlinkMacSystemFont, Roboto, 'Helvetica Neue', sans-serif; /* Airbnb's font, with fallbacks */
}

@keyframes text-draw {
    to {
        stroke-dashoffset: 0;
    }
}

@keyframes text-fill {
    from {
        fill: transparent;
    }
    to {
        fill: #FF5A5F; /* Or your desired text color */
    }
}
/* Media queries for different screen sizes */
@media (max-width: 1200px) {
    #loader {
        width: 80%;
        height: 80vh;
    }
}

@media (max-width: 768px) {
    #loader {
        width: 90%;
        height: 90vh;
    }
}

@media (max-width: 480px) {
    #loader {
        width: 100%;
        height: 100vh;
    }
}

</style>
<script>
document.addEventListener("DOMContentLoaded", function() {
    const loader = document.getElementById('loader');
    const mainContent = document.getElementById('main-content');

    // Display the loader for 3 seconds before showing the main content
    setTimeout(function() {
        loader.style.display = 'none';
        mainContent.style.display = 'block';
    }, 3000); // Adjust this time as needed
    const chatButton = document.getElementById('chat-popup-button');
    const chatbox = document.getElementById('chatbox');
    const closeChat = document.getElementById('close-chat');
    const chatInput = document.getElementById('chatbox-input');
    const messagesContainer = document.querySelector('.chatbox-messages');


    // Function to save message to local storage
    function saveMessage(message, sender) {
        let messages = JSON.parse(localStorage.getItem('chatMessages')) || [];
        messages.push({ message, from: sender, timestamp: new Date().toISOString() });
        localStorage.setItem('chatMessages', JSON.stringify(messages));
        displayMessage(message, sender); // Display message
    }

    // Function to load messages from local storage
    function loadMessages() {
        let messages = JSON.parse(localStorage.getItem('chatMessages')) || [];
        messagesContainer.innerHTML = ''; // Clear previous messages
        messages.forEach(msg => {
            displayMessage(msg.message, msg.from);
        });
    }

    // Function to display message in the chatbox
    function displayMessage(message, sender) {
        let messageDiv = document.createElement('div');
        messageDiv.textContent = sender + ": " + message;
        messagesContainer.appendChild(messageDiv);
        // Scroll to the bottom of the messages container
        messagesContainer.scrollTop = messagesContainer.scrollHeight;
    }
    // Check if we need to clear the chat
    fetch('/clear-chat-flag').then(response => response.json()).then(data => {
        if(data.clear_chat) {
            // Clear chat history from localStorage
            localStorage.removeItem('chatMessages');
            // Reload messages to update the chatbox
            loadMessages();
        }
    });

    // Refresh messages every 5 seconds
    setInterval(loadMessages, 5000);

    chatButton.addEventListener('click', function() {
        chatbox.style.display = 'block';
    });

    closeChat.addEventListener('click', function() {
        chatbox.style.display = 'none';
    });

    chatInput.addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
            const message = chatInput.value;
            if(message.trim() !== '') {
                saveMessage(message, 'client'); // Save message as client's
                         chatInput.value = ''; // Clear input after sending
        }
    }
});

});


// This function will save a new message to localStorage
function saveMessage(message, sender) {
    let chatHistory = JSON.parse(localStorage.getItem('chatHistory')) || [];
    chatHistory.push({ message, sender, timestamp: new Date() });
    localStorage.setItem('chatHistory', JSON.stringify(chatHistory));
}

// This function will load messages from localStorage and display them in the chat
function loadMessages() {
    let chatHistory = JSON.parse(localStorage.getItem('chatHistory')) || [];
    const messagesContainer = document.querySelector('.chatbox-messages');
    messagesContainer.innerHTML = ''; // Clear previous messages

    chatHistory.forEach(msg => {
        const messageDiv = document.createElement('div');
        messageDiv.textContent = msg.sender + ': ' + msg.message;
        messagesContainer.appendChild(messageDiv);
    });

    // Scroll to the bottom of the messages container
    messagesContainer.scrollTop = messagesContainer.scrollHeight;
}

document.addEventListener("DOMContentLoaded", function() {
    const chatButton = document.getElementById('chat-popup-button');
    const chatbox = document.getElementById('chatbox');
    const closeChat = document.getElementById('close-chat');
    const chatInput = document.getElementById('chatbox-input');


    chatButton.addEventListener('click', function() {
        chatbox.style.display = 'block';
        loadMessages(); // Load messages when the chat is opened
    });

    closeChat.addEventListener('click', function() {
        chatbox.style.display = 'none';
    });

    chatInput.addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
            const message = chatInput.value;
            if(message.trim() !== '') {
                saveMessage(message, 'client'); // Save message as client's
                displayMessage(message, 'client');
                chatInput.value = ''; // Clear input after sending
            }
        }
    });

    // Load messages on page load
    loadMessages();
});

// This function displays a message in the chatbox
function displayMessage(message, sender) {
    const messagesContainer = document.querySelector('.chatbox-messages');
    const messageDiv = document.createElement('div');
    messageDiv.textContent = sender + ': ' + message;
    messagesContainer.appendChild(messageDiv);
    messagesContainer.scrollTop = messagesContainer.scrollHeight;
    saveMessage(message, sender); // Save message to localStorage
}
</script>
<div id="loader">
    <svg viewBox="0 0 200 100">
        <text x="50%" y="50%" text-anchor="middle" dominant-baseline="middle" fill="transparent" stroke="#FF5A5F"
              stroke-width="1">MonsterBob
        </text>
    </svg>
</div>
<div id="main-content" style="display: none;">
    <section id="hero">
        <div class="text-container">
            <h1>Transform Your Space</h1>
            <p>Quality renovation to make your house feel like home.</p>
            <a href="#" class="cta-button">Get Started</a>
        </div>
        <div class="image-container">
            <div class="rounded-rectangle">
                <img src="/static/image/giphy (1).gif" alt="Renovation work in progress"/>
            </div>
            <div class="rounded-rectangle">
                <img src="/static/image/hammer.gif" alt="Renovation work in progress"/>
            </div>
            <div class="rounded-rectangle">
                <img src="/static/image/explain-plan.gif" alt="Renovation work in progress"/>
            </div>
            <div class="rounded-rectangle">
                <img src="/static/image/lets-do-this-hammer.gif" alt="Renovation work in progress"/>
            </div>
            <div class="rounded-rectangle">
                <img src="/static/image/lets-do-this-hammer.gif" alt="Renovation work in progress"/>
            </div>
            <div class="rounded-rectangle">
                <img src="/static/image/lets-do-this-hammer.gif" alt="Renovation work in progress"/>
            </div>
            <div class="rounded-rectangle">
                <img src="/static/image/explain-plan.gif" alt="Renovation work in progress"/>
            </div>
            <div class="rounded-rectangle">
                <img src="/static/image/lets-do-this-hammer.gif" alt="Renovation work in progress"/>
            </div>
            <div class="rounded-rectangle">
                <img src="/static/image/lets-do-this-hammer.gif" alt="Renovation work in progress"/>
            </div>
        </div>
    </section>
    <section id="testimonials">
        <h2>Client Testimonials</h2>
        <div class="testimonial-cards">
            <div class="testimonial-card">
                <p>"We are so pleased with the renovation! It's like living in a brand new home."</p>
                <h3>Jane Doe</h3>
            </div>
            <div class="testimonial-card">
                <p>"The attention to detail and quality of work was outstanding. Highly recommend!"</p>
                <h3>John Smith</h3>
            </div>
            <div class="testimonial-card">
                <p>"Exceptional craftsmanship and a team dedicated to excellence. I couldn't be happier!"</p>
                <h3>Mary Johnson</h3>
            </div>
            <div class="testimonial-card">
                <p>"We are so pleased with the renovation! It's like living in a brand new home."</p>
                <h3>Jane Doe</h3>
            </div>
            <div class="testimonial-card">
                <p>"The attention to detail and quality of work was outstanding. Highly recommend!"</p>
                <h3>John Smith</h3>
            </div>
            <div class="testimonial-card">
                <p>"Exceptional craftsmanship and a team dedicated to excellence. I couldn't be happier!"</p>
                <h3>Mary Johnson</h3>
            </div>
            <div class="testimonial-card">
                <p>"We are so pleased with the renovation! It's like living in a brand new home."</p>
                <h3>Jane Doe</h3>
            </div>
            <div class="testimonial-card">
                <p>"The attention to detail and quality of work was outstanding. Highly recommend!"</p>
                <h3>John Smith</h3>
            </div>
            <div class="testimonial-card">
                <p>"Exceptional craftsmanship and a team dedicated to excellence. I couldn't be happier!"</p>
                <h3>Mary Johnson</h3>
            </div>
            <div class="testimonial-card">
                <p>"We are so pleased with the renovation! It's like living in a brand new home."</p>
                <h3>Jane Doe</h3>
            </div>
            <div class="testimonial-card">
                <p>"The attention to detail and quality of work was outstanding. Highly recommend!"</p>
                <h3>John Smith</h3>
            </div>
            <div class="testimonial-card">
                <p>"Exceptional craftsmanship and a team dedicated to excellence. I couldn't be happier!"</p>
                <h3>Mary Johnson</h3>
            </div>
        </div>

    </section>
    <section id="testimonials">
        <div class="testimonial-cards-reverse">
            <div class="testimonial-card">
                <p>"We are so pleased with the renovation! It's like living in a brand new home."</p>
                <h3>Jane Doe</h3>
            </div>
            <div class="testimonial-card">
                <p>"The attention to detail and quality of work was outstanding. Highly recommend!"</p>
                <h3>John Smith</h3>
            </div>
            <div class="testimonial-card">
                <p>"Exceptional craftsmanship and a team dedicated to excellence. I couldn't be happier!"</p>
                <h3>Mary Johnson</h3>
            </div>
            <div class="testimonial-card">
                <p>"We are so pleased with the renovation! It's like living in a brand new home."</p>
                <h3>Jane Doe</h3>
            </div>
            <div class="testimonial-card">
                <p>"The attention to detail and quality of work was outstanding. Highly recommend!"</p>
                <h3>John Smith</h3>
            </div>
            <div class="testimonial-card">
                <p>"Exceptional craftsmanship and a team dedicated to excellence. I couldn't be happier!"</p>
                <h3>Mary Johnson</h3>
            </div>
            <div class="testimonial-card">
                <p>"We are so pleased with the renovation! It's like living in a brand new home."</p>
                <h3>Jane Doe</h3>
            </div>
            <div class="testimonial-card">
                <p>"The attention to detail and quality of work was outstanding. Highly recommend!"</p>
                <h3>John Smith</h3>
            </div>
            <div class="testimonial-card">
                <p>"Exceptional craftsmanship and a team dedicated to excellence. I couldn't be happier!"</p>
                <h3>Mary Johnson</h3>
            </div>
            <div class="testimonial-card">
                <p>"We are so pleased with the renovation! It's like living in a brand new home."</p>
                <h3>Jane Doe</h3>
            </div>
            <div class="testimonial-card">
                <p>"The attention to detail and quality of work was outstanding. Highly recommend!"</p>
                <h3>John Smith</h3>
            </div>
            <div class="testimonial-card">
                <p>"Exceptional craftsmanship and a team dedicated to excellence. I couldn't be happier!"</p>
                <h3>Mary Johnson</h3>
            </div>
        </div>
    </section>


    <section id="recent-projects">
        <div class="container1">
            <h2>Recent Projects</h2>
            <div class="project-gallery">
                <div class="project-item">
                    <div class="testimonial-card">
                        <img src="/static/image/Best-Modern-Kitchen-Ideas-To-Quadruple-Functionality-With-Style-Banner-1.jpg"
                             alt="Project 1 Image">
                        <h3>Modern Kitchen Redesign</h3>
                        <h5>Experience modern elegance with this kitchen's sleek white design, warm wood accents, and
                            sunlit, spacious windows.</h5>
                    </div>
                </div>
                <!-- Project 2 -->
                <div class="project-item">
                    <div class="testimonial-card">
                        <img src="/static/image/luxurey-bathroom-remodel.jpg" alt="Project 2 Image">
                        <h3>Elegant Bathroom Remodel</h3>
                        <h5>Discover luxury in this elegant bathroom remodel, featuring marble-like tiles, a sleek
                            vanity, and a spacious, light-filled design.</h5>
                    </div>
                </div>
                <div class="project-item">
                    <div class="testimonial-card">
                        <img src="/static/image/sidekix-media-0sDzRgrN_pI-unsplash.jpg" alt="Project 2 Image"
                             style="width:300px; height:168.3px;">
                        <h3>Living Room Transformation</h3>
                        <h5>Revitalize your space with this living room transformation, showcasing plush seating, chic
                            shelving, and a harmonious gray-scale palette.</h5>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section id="about-us">
        <div class="container1">
            <h2>About Us</h2>
            <p>We are a team of passionate renovators dedicated to transforming spaces into comfortable, functional, and
                stylish homes. </p>
        </div>
    </section>
    <footer>
        <p>Contact us at MonsterBob@renovations.com</p>
        <ul>
            <li><a href="#">Privacy Policy</a></li>
            <li><a href="#">Terms of Service</a></li>
        </ul>
    </footer>
    <div id="chat-button">
        <button id="chat-popup-button">Chat with us!</button>
    </div>
</div>
<!-- Chatbox Container -->
<div id="chatbox" class="chatbox" style="display:none;">
    <div class="chatbox-header">
        <h5>Chat with us!</h5>
        <button id="close-chat">x</button>
    </div>
    <div class="chatbox-messages">
        <!-- Messages will be displayed here -->
    </div>
    <input type="text" id="chatbox-input" placeholder="Type your message here..."/>
</div>
{% endblock %}